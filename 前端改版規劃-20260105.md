# 前端改版規劃 - SeedAtlas 風格對齊

> 參考檔案：`front-sample-stitch/code.html`
> 生成日期：2026-01-05

---

## 範圍（本次只做桌面版）

- 只對齊 **桌面版佈局/樣式/配色**（約 >= 1024px）
- **暫不做 RWD**、不做手機/平板適配
- 不動地圖生成邏輯（MapLayers/）

## 一、全局配置對齊

### 1.0 Tailwind v4 接入（必做）

- `src/style.css` 使用 **Tailwind v4** 方式：
  - 必須有 `@import "tailwindcss";`
  - 必須有 `@source "./index.html";` 與 `@source "./src/**/*.{vue,js,ts,jsx,tsx}";`
  - 顏色/字體/陰影用 `@theme { ... }` 定義
- 若仍保留 `tailwind.config.js`，需在 `src/style.css` 加：
  - `@config "./tailwind.config.js";`

### 1.1 Tailwind 顏色（v4 在 @theme 定義）

| 變數名 | 色碼 | 用途 | 現有狀態 |
|--------|------|------|----------|
| primary | #3C8527 | 主色（綠） | ✅ 已有 |
| primary-dark | #2A6419 | 主色深 | ✅ 已有 |
| accent-diamond | #50E0D4 | 鑽石色 | ✅ 已有 |
| background-dark | #1D1D1D | 背景深色 | ✅ 已有 |
| surface-dark | #282828 | 面板背景 | ✅ 已有 |
| border-dark | #3E3E3E | 邊框色 | ✅ 已有 |
| text-secondary | #A0A0A0 | 次要文字 | ✅ 已有 |
| **status-bg** | #22252A | 座標列背景 | ❌ 需新增 |
| **status-blue** | #1E88E5 | 座標數字色 | ❌ 需新增 |
| **status-green** | #10B981 | 生態系指示點 | ❌ 需新增 |

### 1.2 Box Shadow（v4 在 @theme 定義）

```css
@theme {
  --shadow-pixel: 4px 4px 0px 0px rgba(0,0,0,0.5);
  --shadow-pixel-sm: 2px 2px 0px 0px rgba(0,0,0,0.5);
}
```

### 1.3 CSS 類檢查

| 類名 | 現有狀態 | 備註 |
|------|----------|------|
| .mc-button | ✅ 已有 | |
| .mc-input | ✅ 已有 | |
| .glass-panel | ✅ 已有 | |
| .font-pixel | ✅ 已有 | |
| .custom-scrollbar | ✅ 已有 | |
| .material-symbols-outlined | ✅ 已有 | |

---

## 二、Header.vue 修正項目

### 2.1 需修正

| 項目 | Sample 樣式 | 現有樣式 | 修正內容 |
|------|-------------|----------|----------|
| Logo 盒子 | `shadow-pixel-sm` | 無陰影 | 加上 `shadow-pixel-sm` |
| 標題 | `drop-shadow-md` | 無陰影 | 加上 `drop-shadow-md` |
| Sidebar toggle | **無** | 有 | **移除** |
| 導航顯示 | 固定顯示 | 可能隱藏 | **固定顯示（不做 md:hidden）** |

### 2.2 Sample Header 結構
```
header.h-16.bg-surface-dark.border-b-2.border-border-dark
├── 左側
│   ├── Logo: div.size-10.bg-primary.border-2.border-white/20.shadow-pixel-sm
│   │   └── icon "grass"
│   ├── 標題: h1.text-2xl.font-pixel.drop-shadow-md
│   └── 導航: nav.flex (MAP/SEEDS/APPS)
└── 右側
    ├── Online 狀態: div.flex.bg-black/40.border.border-white/10
    │   ├── 綠點: span.w-2.h-2.bg-green-500.animate-pulse
    │   └── 文字: span.font-pixel
    └── LOG IN: button.mc-button.h-10.px-6.font-pixel
```

---

## 三、Sidebar.vue 完全重構

### 3.1 Sample Sidebar 結構

```
aside.w-80.bg-surface-dark.border-r-2.border-border-dark.flex.flex-col
├── Header 區塊: div.p-5.border-b-2.border-border-dark
│   ├── h2.text-2xl.font-pixel "World Settings"
│   └── p.text-text-secondary.text-xs.font-mono "Customize generation"
│
├── 內容區塊: div.flex-1.overflow-y-auto.custom-scrollbar.p-5.space-y-6
│   ├── SEED ID
│   │   ├── label.text-lg.font-pixel.text-text-secondary
│   │   └── div.flex.gap-2
│   │       ├── input.mc-input
│   │       └── button.mc-button.w-12 (casino icon)
│   │
│   ├── EDITION/VERSION: div.grid.grid-cols-2.gap-3
│   │   ├── EDITION: select.mc-input
│   │   └── VERSION: select.mc-input
│   │
│   ├── 分隔線: div.h-0.5.bg-border-dark
│   │
│   ├── Map Layers: div.space-y-4
│   │   ├── h3.text-lg.font-pixel "Map Layers"
│   │   └── 4 個 checkbox items (Biomes/Slime Chunks/Structures/Ores)
│   │
│   ├── 分隔線
│   │
│   ├── FIND BIOME
│   │   ├── label.text-lg.font-pixel.text-text-secondary
│   │   └── div.relative
│   │       ├── span.material-symbols-outlined "search"
│   │       └── input.mc-input.pl-10
│   │
│   ├── 等高線設定（新增區塊，符合樣式）
│   ├── Custom Markers（新增區塊，符合樣式）
│   └── Datapack（新增區塊，符合樣式）
│
└── Footer: div.p-4.border-t-2.border-border-dark
    └── 簡化版 Footer 連結（About/Licenses 等）
```

### 3.2 現有欄位映射

| 現有欄位 | 來源 | 對應 Sample 位置 | 處理方式 |
|----------|------|------------------|----------|
| Seed | SettingsPanel | SEED ID | 套用 Sample 樣式 |
| MC Version | SettingsPanel | VERSION | 套用 Sample 樣式 |
| World Preset | SettingsPanel | EDITION 位置 | 替換 EDITION（專案只支援 Java） |
| Dimension | SettingsPanel | **移除** | 改用 MainMap 維度標籤 |
| 等高線 | SettingsPanel | Map Layers 下方新增區塊 | 保留功能，套用新樣式 |
| Add Datapack | MenuButtons | Map Layers 區塊內或下方 | 改為 checkbox 風格 |
| Find Biome | MenuButtons | FIND BIOME | 改為搜尋框樣式 |
| Structure toggle | MenuButtons | Map Layers - Structures | 改為 checkbox |
| Custom Markers | MarkersPanel | 新增獨立區塊 | 放在 FIND BIOME 下方 |
| Tip Message | TipMessage | 移除或縮小 | 可選保留 |
| Footer 連結 | Footer | GENERATE WORLD 下方 | 簡化保留 |

### 3.3 Map Layers Checkbox 樣式

每個 item 結構：
```html
<label class="flex items-center justify-between p-2 hover:bg-white/5 cursor-pointer group border border-transparent hover:border-white/10">
    <div class="flex items-center gap-3">
        <div class="w-8 h-8 flex items-center justify-center bg-[顏色] border-2 border-white/20 shadow-sm">
            <span class="material-symbols-outlined text-white text-[18px]">圖示</span>
        </div>
        <span class="text-lg font-pixel pt-1">文字</span>
    </div>
    <input type="checkbox" class="w-5 h-5 rounded-none border-2 border-gray-500 bg-black text-primary" />
</label>
```

各項顏色：
- Biomes: `bg-[#5B8F34]`, icon: `grass`
- Slime Chunks: `bg-[#72C14F]`, icon: `opacity`
- Structures: `bg-[#C69C6D]`, icon: `temple_hindu`
- Ores (disabled): `bg-gray-700`, icon: `diamond` (text-accent-diamond)

---

## 四、MainMap.vue 修正項目

### 4.1 維度標籤（已有，需檢查樣式）

位置：`absolute top-6 left-1/2 -translate-x-1/2 z-10`

```html
<div class="glass-panel p-1 flex gap-1 bg-surface-dark/90 rounded-none">
    <label class="cursor-pointer">
        <input type="radio" class="peer sr-only" />
        <div class="px-4 py-2 border-2 border-transparent peer-checked:bg-primary/20 peer-checked:border-primary ...">
            <span class="material-symbols-outlined">grass</span>
            <span class="font-pixel">OVERWORLD</span>
        </div>
    </label>
    <!-- NETHER: peer-checked:bg-red-900/50 peer-checked:border-red-600 -->
    <!-- THE END: peer-checked:bg-purple-900/50 peer-checked:border-purple-500 -->
</div>
```

### 4.2 TP 輸入框（需大改）

| 項目 | Sample | 現有 | 修正 |
|------|--------|------|------|
| 位置 | **top-6 right-6** | bottom-6 right-6 | 移到右上角 |
| 輸入框 | 單一輸入框 placeholder="X Z" | 兩個分開的 number input | 改為單一輸入框 |
| 樣式 | glass-panel + bg-black/80 | bg-surface-dark | 改為 glass-panel |
| 按鈕圖示 | subdirectory_arrow_left | "Go" 文字 | 改為 Material icon |

Sample 結構：
```html
<div class="absolute top-6 right-6 z-10">
    <div class="glass-panel flex items-center h-12 px-3 bg-black/80 border-2 border-gray-600 rounded-none">
        <span class="text-text-secondary font-pixel text-lg mr-2">> tp</span>
        <input class="bg-transparent border-none text-primary font-pixel text-xl focus:ring-0 placeholder:text-gray-700 w-32 focus:w-48 transition-all pt-1" placeholder="X Z" />
        <button class="text-white hover:text-primary">
            <span class="material-symbols-outlined">subdirectory_arrow_left</span>
        </button>
    </div>
</div>
```

### 4.3 座標資訊列（需大改）

| 項目 | Sample | 現有 | 修正 |
|------|--------|------|------|
| 座標來源 | **地圖視窗中心** | 跟隨滑鼠游標 | 改為監聽 map moveend 事件 |
| 圓角 | `rounded-[12px]` | 無 | 加上圓角 |
| 綠點 | `rounded-full` | 無 | 加上圓形 |
| 背景 | `bg-status-bg` (#22252A) | `bg-[#22252A]` | 改用變數 |

Sample 結構：
```html
<div class="absolute bottom-6 left-6 z-10">
    <div class="bg-status-bg border border-white/5 rounded-[12px] shadow-lg flex items-center px-6 py-3 gap-6">
        <div class="text-gray-400 font-pixel text-xl tracking-wide flex items-center gap-2">
            <span>COORDINATES</span>
            <span class="text-status-blue">X: 204</span>,
            <span class="text-status-blue">Z: -4045</span>
        </div>
        <div class="w-px h-6 bg-white/10"></div>
        <div class="text-gray-400 font-pixel text-xl tracking-wide flex items-center gap-3">
            <span>BIOME</span>
            <div class="flex items-center gap-2 text-white">
                <span class="w-2 h-2 rounded-full bg-status-green shadow-[0_0_8px_rgba(16,185,129,0.8)]"></span>
                <span>Sparse Jungle</span>
            </div>
        </div>
    </div>
</div>
```

### 4.4 縮放控制（需大改）

| 項目 | Sample | 現有 | 修正 |
|------|--------|------|------|
| 容器 | glass-panel | bg-surface-dark | 改為 glass-panel |
| Zoom In icon | Material "add" | "+" 文字 | 改為 Material icon |
| Zoom Out icon | Material "remove" | "−" 文字 | 改為 Material icon |
| Reset View | **獨立按鈕** explore icon (紅色) | 跟縮放按鈕一起 "⌂" | 分離並改樣式 |
| 分隔線 | `div.h-0.5.bg-white/10` 在 +/- 之間 | 無 | 新增 |

Sample 結構：
```html
<div class="absolute bottom-6 right-6 z-10 flex flex-col gap-3">
    <!-- 縮放按鈕組 -->
    <div class="glass-panel p-1 flex flex-col gap-1 bg-surface-dark/90 rounded-none">
        <button class="w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 border border-transparent hover:border-white/20">
            <span class="material-symbols-outlined text-2xl">add</span>
        </button>
        <div class="h-0.5 bg-white/10 w-full"></div>
        <button class="w-10 h-10 ...">
            <span class="material-symbols-outlined text-2xl">remove</span>
        </button>
    </div>
    <!-- Reset View 獨立按鈕 -->
    <button class="glass-panel w-12 h-12 flex items-center justify-center text-white hover:bg-white/10 group rounded-none">
        <span class="material-symbols-outlined text-3xl text-red-500 group-hover:animate-pulse">explore</span>
    </button>
</div>
```

---

## 五、修改清單摘要

### 5.1 Tailwind v4（src/style.css）
- [ ] 在 `@theme` 新增 `status-bg`, `status-blue`, `status-green`
- [ ] 在 `@theme` 新增 `shadow-pixel`, `shadow-pixel-sm`

### 5.2 Header.vue
- [ ] Logo 盒子加 `shadow-pixel-sm`
- [ ] 標題加 `drop-shadow-md`
- [ ] 移除 sidebar toggle 按鈕
- [ ] 導航固定顯示（不做 md:hidden）

### 5.3 Sidebar.vue（完全重構）
- [ ] 新增 "World Settings" 標題區
- [ ] SEED ID 區塊（mc-input + casino 按鈕）
- [ ] World Preset / VERSION 兩欄 grid
- [ ] Map Layers 區塊（checkbox 列表）
  - [ ] Biomes
  - [ ] Slime Chunks（引擎支援 showSlime）
  - [ ] Structures
  - [ ] Ores (disabled 裝飾)
- [ ] 分隔線
- [ ] FIND BIOME 搜尋框
- [ ] 等高線設定（保留功能，新樣式）
- [ ] Custom Markers 區塊（保留功能，新樣式）
- [ ] Datapack 功能（保留，新樣式）
- [ ] ~~GENERATE WORLD 按鈕~~ ❌ 取消
- [ ] ~~Tip Message~~ ❌ 完全移除
- [ ] Footer 連結（簡化保留）

### 5.4 MainMap.vue
- [ ] 維度標籤樣式檢查對齊
- [ ] TP 輸入框移到右上角 + 改為單一輸入框
- [ ] 座標列改為顯示地圖中心座標 + 加 `rounded-[12px]` + 綠點 `rounded-full`
- [ ] 縮放控制改為 glass-panel + Material icons + 分隔線
- [ ] Reset View 獨立按鈕 + explore icon (紅色)

### 5.5 App.vue
- [ ] 移除 matchMedia/overlay 等 RWD 邏輯
- [ ] Sidebar 固定顯示 `w-80`，Map 佔剩餘空間

---

## 六、已確認事項

| # | 項目 | 決定 |
|---|------|------|
| 1 | GENERATE WORLD 按鈕 | ❌ 取消，不實作 |
| 2 | Slime Chunks | ✅ 引擎支援（showSlime 參數），納入 Map Layers |
| 3 | Custom Markers 位置 | ✅ 放在 FIND BIOME 下方，需符合樣式 |
| 4 | Datapack 功能位置 | ✅ 放在 Map Layers 區塊或獨立區塊，需符合樣式 |
| 5 | 等高線設定位置 | ✅ 放在 Map Layers 下方，需符合樣式 |
| 6 | Tip Message（捐款提示框） | ❌ 完全移除 |
| 7 | Footer 連結 | ✅ 簡化保留在最底部，需符合樣式 |

---

**所有事項已確認，可開始實作。**
